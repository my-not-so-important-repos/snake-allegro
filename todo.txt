Melhorar o codigo que faz o delay.
Usar diferença de tempo.